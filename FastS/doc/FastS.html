<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
  <head>
    <title>FastS: structured grid Navier-Stokes solver</title>
    <link href="Cassiopee.css" rel="stylesheet" type="text/css">
    <link rel="icon" type="image/png" href="iconc.png"> </link>
    <script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','//www.google-analytics.com/analytics.js','ga');ga('create', 'UA-31301505-1', 'auto');ga('send', 'pageview');</script>
  </head>

  <body>
    <h1>FastS: structured grid Navier-Stokes solver</h1>
    <h2>Version: 2.5 (20/09/2017)</h2>
    <h2>Author: Onera</h2>
    <h2><a href="Latex/FastS.pdf" target="_self"><img src="pdf_logo.gif" alt="Download pdf version."></a></h2> 
<HR>

    <h3>Preamble</h3>
    
    FastS is an efficient Navier-Stokes solver for use with structured 
    grids.<br><br>

    This module is only available for the pyTree interface:
    <div class="code">
      import FastS.PyTree as FastS
    </div>

    <p></p>
    <h3>Preparing</h3>
    <p></p>

    <strong>FastS.warmup</strong>:
    compute all necessary pre-requisites for solver. MUST be called before compute:
    <br>
    <div class="code">
    (t, tc, metrics) = FastS.warmup(t, tc, graph=None)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/warmupPT.py"> warming up</a>.<br><br>

    <strong>FastS.createConvergenceHistory</strong>:
     create a node in each zone with convergence information (residuals)
     MUST be called before display_temporal_criteria():
     t is a pyTree, nrec is the size of the data arrays to store the residuals.
     The data arrays are stored during the call to  <i>FastS.display_temporal_criteria</i>
    <br>
    <div class="code">
     FastS.createConvergenceHistory(t, nrec)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/convergenceHistoryPT.py"> create convergence history node in zones</a>.<br>

    <p></p>
    <h3>Running</h3>
        
    <strong>FastS.compute</strong>:
    perform one iteration of solver. nit is the current iteration number, tc is the connectivity tree (if any):
    <br>
    <div class="code">
    FastS._compute(t, metrics, nit, tc=None, graph=None)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/computePT.py"> computing one iteration</a>.<br><br>

    <strong>FastS.display_temporal_criteria</strong>:
    display CFL and implicit convergence informations:
    <div class="code">
    FastS.display_temporal_criteria(t, metrics, nit, format) <br>
    Format = None, 'double', 'store'  <br>
            None    : display residuals with f7.2 Fortran format <br>
           'double': display residuals with f14.9 Fortran format <br>
           'store': store convergence history (residuals) in the current pyTree, do not display them<br>

    </div>
    <em>Example of use: </em><a href="Examples/FastS/display_temporal_criteriaPT.py"> displaying information during iterations</a>.<br>
    <p></p>
    <h3>Post</h3>
    <p></p>
    
    <strong>FastS.createStatNodes</strong>:
    create a stat node used by computeStats. Enable to compute time
    average variation of fields.<br> 
    dir is the direction of space avergae (if any), can be '0' (no space average), 'i', 'j', 'k', 'ij', 'ik', 'jk'.<br>
    nsamples is the number of samples in average. Average is accumulated from
    iteration 0 to 0+nsamples.<br>
    Return a new tree in tmy:
    <div class="code">
    tmy = FastS.createStatNodes(t, dir='0', nsamples=0)
    </div>
     <em>Example of use: </em><a href="Examples/FastS/createStatNodesPT.py"> create a stats node</a>.<br><br>

    <strong>FastS.createStressNodes</strong>:
    create a stress base node used by computeStress.
    Enable to compute on a list of boundary conditions numerical fluxes, Gradient and Cp.<br> 
    BC is the list of boundary condition type. Default value is BC=['BCWall'] .<br>
    Return a new tree in teff:
    <div class="code">
    teff = FastS.createStressNodes(t, ['BCWall','BCWallViscous' ])
    </div>
     <em>Example of use: </em><a href="Examples/FastS/createStressNodesPT.py"> create a stress node</a>.<br><br>

    <strong>FastS.computeStats</strong>:
    compute the stats in tmy:
    <div class="code">
    FastS._computeStats(t, tmy, metrics)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/computeStatsPT.py"> compute the stats</a>.<br><br>

    <strong>FastS.computeStress</strong>:
    compute the stress in teff:
    <div class="code">
    FastS._computeStress(t, teff, metrics)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/computeStressPT.py"> compute the stress</a>.<br><br>

    <strong>FastS.computeVariables</strong>:
    compute specified variables as QCriterion, Enstrophy:
    <div class="code">
    FastS._computeVariables(t, metrics, ['QCriterion'])
    </div>
    <em>Example of use: </em><a href="Examples/FastS/computeVariablesPT.py"> compute specific variables</a>.<br><br>

    <strong>FastS.computeGrad</strong>:
    compute specified variables gradients at cell centers:
    <div class="code">
    FastS._computeGrad(t, metrics, ['Density'], order=2)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/computeGradPT.py"> compute the gradient of a variable</a>.<br><br>

    <strong>FastS.extractConvergenceHistory</strong>:
      extract convergence information (residuals) in each zone (residuals)
         t is a pyTree, fileout is the name of the output file in the tecplot ascii format.
    <br>
    <div class="code">
    FastS.extractConvergenceHistory(t, fileout)
    </div>
    <em>Example of use: </em><a href="Examples/FastS/extract_convergencePT.py">  extract convergence history</a>.<br>

    <hr>
    <a href="Userguide.html">Return to main userguide</a>
  </body>
</html>
